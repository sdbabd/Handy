# Handy 0.6.7 更新说明

## 版本信息
- **版本号**: 0.6.7
- **更新日期**: 2025年12月14日
- **仓库**: https://github.com/sdbabd/Handy

## 主要更新内容

### 1. 完整的中文国际化支持 (i18n)
- **调试菜单翻译**: 所有调试设置页面现在完全支持中文显示
- **翻译覆盖范围**:
  - 调试设置页面标题和描述
  - 日志级别选项 (错误、警告、信息、调试、跟踪)
  - 文件路径和目录显示
  - 各种设置选项和按钮文本
  - 录音保留期限设置 (永不删除、保留N条、3天后等)

### 2. 修复 Overlay 翻译问题
- **问题解决**: 修复了语音识别时显示 "overlay.recognizing" 而不是中文 "识别中" 的问题
- **技术方案**: 为 overlay 组件添加 I18nProvider 支持
- **用户体验**: 现在识别过程中会正确显示中文状态文本

### 3. 版本号标准化
- **格式优化**: 采用标准语义化版本格式 (semver)
- **MSI兼容**: 解决了 Windows MSI 安装程序的版本号兼容性问题
- **文件命名**: 生成的安装程序文件名包含正确版本号

## 技术改进

### 国际化架构
- 使用 react-i18next 框架
- 支持动态语言切换
- 翻译资源集中管理
- TypeScript 类型安全

### 组件更新
- 修复了所有调试设置组件的翻译支持
- 统一了翻译键命名规范
- 优化了组件的翻译实现

### 构建优化
- 更新了构建配置以支持新的翻译系统
- 解决了跨平台构建的版本号问题

## 用户体验改进

### 语言切换
- 在常规设置中添加了界面语言选择器
- 支持中文和英文界面切换
- 设置会自动保存并在重启后生效

### 状态反馈
- 语音识别状态现在正确显示中文
- 所有设置页面完全本地化
- 保持了原有的功能完整性

## 文件修改清单

### 核心文件
- `package.json` - 版本号更新
- `src-tauri/Cargo.toml` - 后端版本号
- `src-tauri/tauri.conf.json` - Tauri配置
- `src/main.tsx` - 添加I18nProvider
- `src/overlay/main.tsx` - 修复overlay翻译

### 组件文件
- 所有调试设置组件添加了翻译支持
- 更新了导航菜单翻译
- 修复了各种设置选项的翻译

### 翻译资源
- `src/i18n/locales/zh.json` - 中文翻译资源
- `src/i18n/locales/en.json` - 英文翻译资源

## 安装说明

### 从源码构建
```bash
git clone https://github.com/sdbabd/Handy.git
cd Handy
npm install
npm run tauri build
```

### 安装程序
- Windows NSIS: `Handy_0.6.7_x64-setup.exe`
- Windows MSI: `Handy_0.6.7_x64_en-US.msi`

## 后续计划

1. **继续优化**: 基于用户反馈继续优化翻译质量
2. **语言扩展**: 未来可考虑支持更多语言
3. **功能增强**: 在保持稳定性的基础上添加新功能

## 贡献说明

本次更新基于开源社区的贡献，主要改进包括：
- 完整的中文界面支持
- 修复了关键的翻译显示问题
- 提升了整体用户体验

所有修改都经过了充分测试，确保在不影响原有功能的前提下提供了更好的多语言支持。